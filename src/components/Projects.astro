---
import { Button, Icon, IconProps } from "./ui/index.astro";

interface Project {
  title: string;
  description: string;
  cover: {
    sources: {
      small: string;
      medium: string;
      large: string;
    };
    alternativeText: string;
  };
  icons: Array<IconProps["name"]>;
  githubUrl: string;
  demoUrl?: string;
}

/**
 * New projects must be added in this array.
 */
const projects: Project[] = [
  {
    title: "AGENDA",
    description:
      "Have you ever had problems to book any common area in your building? Agenda is the best solution to help you with that!",
    cover: {
      sources: {
        small: "/images/project-agenda-cover-small.jpg",
        medium: "/images/project-agenda-cover-medium.jpg",
        large: "/images/project-agenda-cover-large.jpg",
      },
      alternativeText: "Login page from Agenda application",
    },
    icons: ["html5", "css3", "typescript", "react"],
    githubUrl: "https://github.com/fthomasvp/agenda-granharmonia-web",
  },
];
---

<section id="projects" tabindex="-1">
  <div class="wrapper">
    <h2>Projects</h2>
    <div class="flex">
      <div class="flex flex-col py-3 space-y-16 md:gap-0">
        {
          projects.map((item) => (
            <div class="flex flex-col space-y-6 md:space-y-0 md:space-x-16 md:even:space-x-reverse border border-solid border-black-rich rounded-xl p-3 md:flex-row md:border-none md:rounded-none md:px-0 md:even:flex-row-reverse">
              <div class="flex flex-col space-y-4 md:flex-1">
                <div class="overflow-hidden rounded-md">
                  <img
                    width="100%"
                    height="100%"
                    loading="lazy"
                    src={item.cover.sources.large}
                    srcset={`${item.cover.sources.small} 290w, ${item.cover.sources.medium} 723w, ${item.cover.sources.large} 1140w`}
                    sizes="(min-width: 1340px) 723px, (min-width: 780px) 55.56vw, calc(100vw - 66px)"
                    alt={item.cover.alternativeText}
                    class="max-w-full transition-transform duration-300 ease-linear object-cover hover:scale-110"
                  />
                </div>

                <div class="flex justify-center mb-4 md:mb-0">
                  <div class="flex space-x-3">
                    {item.icons.map((name) => (
                      <Icon name={name} />
                    ))}
                  </div>
                </div>
              </div>

              <div class="flex flex-col space-y-6 md:flex-[0.6] md:justify-center">
                <h3>{item.title}</h3>
                <p>{item.description}</p>
                <div class="flex flex-col flex-wrap space-y-6 sm:space-y-0 sm:space-x-6 sm:flex-row">
                  {item.demoUrl && (
                    <Button
                      title="Live Demo"
                      href={item.demoUrl}
                      target="_blank"
                      rel="noopener"
                      variant="solid"
                    />
                  )}
                  {item.githubUrl && (
                    <Button
                      title="See on GitHub"
                      href={item.githubUrl}
                      target="_blank"
                      rel="noopener"
                      variant="outline"
                    />
                  )}
                </div>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </div>
</section>
